[{"rule":{"rule_id":"wrong_tuned_profile|WRONG_TUNED_PROFILE_USED_FOR_VIRTUAL_GUEST","created_at":"2020-09-24T00:10:36.509980Z","updated_at":"2023-12-15T08:34:05.475777Z","description":"Decreased performance occurs when KVM and VMWare guests are not running with recommended tuned service configuration","active":true,"category":{"id":1,"name":"Availability"},"impact":{"name":"System Performance Loss","impact":2},"likelihood":3,"node_id":"369093","tags":"performance tuning","reboot_required":false,"publish_date":"2020-10-10T07:27:00Z","summary":"Running a KVM or VMWare guest without recommended `tuned` service configuration causes decreased performance.\n","generic":"Running a KVM or VMWare guest without recommended `tuned` service configuration causes decreased performance.\n","reason":"This virtual guest is missing the following recommended `tuned` configuration:\n{{? \"tuned_not_installed\" in pydata.results }} \nThe `tuned` package is not installed. In this situation, it is not able to apply the tuning profile to improve the performance.\n{{?}}\n\n{{? \"tuned_not_running\" in pydata.results }}\nThe `tuned` service is not running. To apply the tuning profile, it is necessary to run the `tuned` service.\n{{?}}\n\n{{? \"tuned_not_enabled\" in pydata.results }}\nThe `tuned` service is not enabled. In this situation, the tuning profile will not be applied to improve the performance at the system booting time as the service will not run automatically after reboot.\n{{?}}\n\n{{? \"recommended_profile\" in pydata.results }}\nThe current active profile is `{{=pydata.results[\"current_profile\"]}}`. However, Red Hat recommends applying `{{=pydata.results[\"recommended_profile\"]}}` to increase performance for this compute node.\n{{?}}\n","more_info":"{{? pydata.rhel_ver}}\n{{? pydata.rhel_ver.startsWith(\"8.\")}}\n* Refer to [Performance Tuning of Tuned for RHEL8]( https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/monitoring_and_managing_system_status_and_performance/getting-started-with-tuned_monitoring-and-managing-system-status-and-performance) for more information.\n{{?}}\n{{? pydata.rhel_ver.startsWith(\"7.\")}}\n* Refer to [Performance Tuning of Tuned for RHEL7](https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/performance_tuning_guide/chap-red_hat_enterprise_linux-performance_tuning_guide-tuned ) for more information.\n{{?}}\n{{?}}\n","resolution_set":[{"system_type":105,"resolution":"Red Hat recommends that you perform the following steps:\n{{? \"tuned_not_installed\" in pydata.results }}\n* Install the `tuned` package:\n  ~~~\n  # yum install tuned\n  ~~~\n* Configure the `tuned` service to start on boot:\n  ~~~\n  # systemctl enable tuned\n  ~~~\n* Configure the `tuned` service to right profile:\n  ~~~\n  # tuned-adm profile virtual-guest\n  ~~~\n* Verify if the recommended profile is set:\n  ~~~\n  # tuned-adm active\n  ~~~\n{{?}}\n{{? \"tuned_not_enabled\" in pydata.results }}\n* Configure `tuned` service to start on boot:\n  ~~~\n  # systemctl enable tuned\n  ~~~\n{{?}}\n{{? \"tuned_not_running\" in pydata.results }}\n* Start `tuned` service:\n  ~~~\n  # systemctl start tuned\n  ~~~\n{{?}}\n{{? \"recommended_profile\" in pydata.results }}\n* Configure `tuned` to the correct profile:\n  ~~~\n  # tuned-adm profile {{=pydata.results['recommended_profile']}}\n  ~~~\n* Verify if the recommended profile is set:\n  ~~~\n  # tuned-adm active\n  ~~~\n{{?}}\n\n\nAfter applying the remediation, refresh the results of Advisor analysis by running the `insights-client` command on the system. \n~~~ \n# insights-client \n~~~ \n","resolution_risk":{"name":"Adjust Tuned Profile","risk":2},"has_playbook":true}],"total_risk":2},"details":{"type":"rule","results":{"tuned_not_installed":true},"rhel_ver":"9.3","error_key":"WRONG_TUNED_PROFILE_USED_FOR_VIRTUAL_GUEST"},"resolution":{"system_type":105,"resolution":"Red Hat recommends that you perform the following steps:\n{{? \"tuned_not_installed\" in pydata.results }}\n* Install the `tuned` package:\n  ~~~\n  # yum install tuned\n  ~~~\n* Configure the `tuned` service to start on boot:\n  ~~~\n  # systemctl enable tuned\n  ~~~\n* Configure the `tuned` service to right profile:\n  ~~~\n  # tuned-adm profile virtual-guest\n  ~~~\n* Verify if the recommended profile is set:\n  ~~~\n  # tuned-adm active\n  ~~~\n{{?}}\n{{? \"tuned_not_enabled\" in pydata.results }}\n* Configure `tuned` service to start on boot:\n  ~~~\n  # systemctl enable tuned\n  ~~~\n{{?}}\n{{? \"tuned_not_running\" in pydata.results }}\n* Start `tuned` service:\n  ~~~\n  # systemctl start tuned\n  ~~~\n{{?}}\n{{? \"recommended_profile\" in pydata.results }}\n* Configure `tuned` to the correct profile:\n  ~~~\n  # tuned-adm profile {{=pydata.results['recommended_profile']}}\n  ~~~\n* Verify if the recommended profile is set:\n  ~~~\n  # tuned-adm active\n  ~~~\n{{?}}\n\n\nAfter applying the remediation, refresh the results of Advisor analysis by running the `insights-client` command on the system. \n~~~ \n# insights-client \n~~~ \n","resolution_risk":{"name":"Adjust Tuned Profile","risk":2},"has_playbook":true},"impacted_date":"2023-09-29T14:08:34.700245Z"}]